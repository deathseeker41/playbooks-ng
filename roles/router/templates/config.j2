set firewall all-ping 'enable'
set firewall broadcast-ping 'disable'
set firewall config-trap 'disable'
set firewall ipv6-receive-redirects 'disable'
set firewall ipv6-src-route 'disable'
set firewall ip-src-route 'disable'
set firewall log-martians 'enable'
set firewall name WAN_IN default-action 'drop'
set firewall name WAN_IN rule 10 action 'accept'
set firewall name WAN_IN rule 10 state established 'enable'
set firewall name WAN_IN rule 10 state related 'enable'
set firewall name WAN_IN rule 15 action 'accept'
set firewall name WAN_IN rule 15 destination port '8086'
set firewall name WAN_IN rule 15 protocol 'tcp'
set firewall name WAN_IN rule 20 action 'accept'
set firewall name WAN_IN rule 20 protocol 'icmp'
set firewall name WAN_IN rule 45 action 'accept'
set firewall name WAN_IN rule 45 destination port '80'
set firewall name WAN_IN rule 45 protocol 'tcp'
set firewall name WAN_IN rule 50 action 'accept'
set firewall name WAN_IN rule 50 destination port '8085'
set firewall name WAN_IN rule 50 protocol 'tcp'
set firewall name WAN_IN rule 55 action 'accept'
set firewall name WAN_IN rule 55 destination port '3724'
set firewall name WAN_IN rule 55 protocol 'tcp'
set firewall name WAN_IN rule 60 action 'accept'
set firewall name WAN_IN rule 60 destination port '9001'
set firewall name WAN_IN rule 60 protocol 'tcp'
set firewall name WAN_IN rule 65 action 'accept'
set firewall name WAN_IN rule 65 destination port '9030'
set firewall name WAN_IN rule 65 protocol 'tcp'
set firewall name WAN_IN rule 70 action 'accept'
set firewall name WAN_IN rule 70 destination port '443'
set firewall name WAN_IN rule 70 protocol 'tcp'
set firewall name WAN_LOCAL default-action 'drop'
set firewall name WAN_LOCAL rule 9 action 'accept'
set firewall name WAN_LOCAL rule 9 protocol 'icmp'
set firewall name WAN_LOCAL rule 10 action 'accept'
set firewall name WAN_LOCAL rule 10 destination port '22'
set firewall name WAN_LOCAL rule 10 protocol 'tcp'
set firewall name WAN_LOCAL rule 15 action 'accept'
set firewall name WAN_LOCAL rule 15 state established 'enable'
set firewall name WAN_LOCAL rule 15 state related 'enable'
set firewall name WAN_LOCAL rule 20 action 'accept'
set firewall name WAN_LOCAL rule 20 destination port '1195'
set firewall name WAN_LOCAL rule 20 protocol 'udp'
set firewall name WAN_LOCAL rule 75 action 'accept'
set firewall name WAN_LOCAL rule 75 destination port 'openvpn'
set firewall name WAN_LOCAL rule 75 protocol 'udp'
set firewall receive-redirects 'disable'
set firewall send-redirects 'enable'
set firewall source-validation 'disable'
set firewall syn-cookies 'enable'
set firewall twa-hazards-protection 'disable'
set interfaces ethernet eth0 address '216.194.170.108/23'
set interfaces ethernet eth0 description 'WAN'
set interfaces ethernet eth0 duplex 'auto'
set interfaces ethernet eth0 firewall in name 'WAN_IN'
set interfaces ethernet eth0 firewall local name 'WAN_LOCAL'
set interfaces ethernet eth0 hw-id '52:54:00:63:6a:ad'
set interfaces ethernet eth0 smp_affinity 'auto'
set interfaces ethernet eth0 speed 'auto'
set interfaces ethernet eth1 address '10.100.0.1/24'
set interfaces ethernet eth1 description 'Prod'
set interfaces ethernet eth1 duplex 'auto'
set interfaces ethernet eth1 hw-id '52:54:00:96:aa:ac'
set interfaces ethernet eth1 smp_affinity 'auto'
set interfaces ethernet eth1 speed 'auto'
set interfaces ethernet eth2 address '10.100.1.1/24'
set interfaces ethernet eth2 description 'QA'
set interfaces ethernet eth2 duplex 'auto'
set interfaces ethernet eth2 hw-id '52:54:00:5b:81:e6'
set interfaces ethernet eth2 smp_affinity 'auto'
set interfaces ethernet eth2 speed 'auto'
set interfaces loopback 'lo'
set interfaces openvpn vtun0 hash 'md5'
set interfaces openvpn vtun0 local-address '10.199.0.1'
set interfaces openvpn vtun0 local-port '1195'
set interfaces openvpn vtun0 mode 'site-to-site'
set interfaces openvpn vtun0 'persistent-tunnel'
set interfaces openvpn vtun0 protocol 'udp'
set interfaces openvpn vtun0 remote-address '10.199.0.2'
set interfaces openvpn vtun0 shared-secret-key-file '/config/auth/zombie'
set interfaces openvpn vtun1 mode 'server'
set interfaces openvpn vtun1 server domain-name 'deathsfolly.net'
set interfaces openvpn vtun1 server name-server '10.99.42.1'
set interfaces openvpn vtun1 server push-route '10.100.0.0/24'
set interfaces openvpn vtun1 server push-route '10.100.1.0/24'
set interfaces openvpn vtun1 server subnet '10.99.42.0/24'
set interfaces openvpn vtun1 tls ca-cert-file '/config/auth/ca.crt'
set interfaces openvpn vtun1 tls cert-file '/config/auth/router1.crt'
set interfaces openvpn vtun1 tls dh-file '/config/auth/dh.pem'
set interfaces openvpn vtun1 tls key-file '/config/auth/router1.key'
set nat destination rule 10 destination port '8086'
set nat destination rule 10 inbound-interface 'eth0'
set nat destination rule 10 protocol 'tcp'
set nat destination rule 10 translation address '10.100.0.117'
set nat destination rule 20 destination port '8085'
set nat destination rule 20 inbound-interface 'eth0'
set nat destination rule 20 protocol 'tcp'
set nat destination rule 20 translation address '10.100.0.119'
set nat destination rule 20 translation port '8085'
set nat destination rule 25 destination port '3724'
set nat destination rule 25 inbound-interface 'eth0'
set nat destination rule 25 protocol 'tcp'
set nat destination rule 25 translation address '10.100.0.119'
set nat destination rule 25 translation port '3724'
set nat destination rule 30 destination port '9001'
set nat destination rule 30 inbound-interface 'eth0'
set nat destination rule 30 protocol 'tcp'
set nat destination rule 30 translation address '10.100.0.125'
set nat destination rule 30 translation port '9001'
set nat destination rule 35 destination port '9030'
set nat destination rule 35 inbound-interface 'eth0'
set nat destination rule 35 protocol 'tcp'
set nat destination rule 35 translation address '10.100.0.125'
set nat destination rule 35 translation port '9030'
set nat destination rule 40 description 'www1 https'
set nat destination rule 40 destination port '443'
set nat destination rule 40 inbound-interface 'eth0'
set nat destination rule 40 protocol 'tcp'
set nat destination rule 40 translation address '10.100.0.130'
set nat destination rule 40 translation port '443'
set nat destination rule 45 description 'www1 https'
set nat destination rule 45 destination port '80'
set nat destination rule 45 inbound-interface 'eth0'
set nat destination rule 45 protocol 'tcp'
set nat destination rule 45 translation address '10.100.0.130'
set nat destination rule 45 translation port '80'
set nat source rule 100 outbound-interface 'eth0'
set nat source rule 100 source address '10.100.0.0/16'
set nat source rule 100 translation address 'masquerade'
set policy prefix-list RFC1918PREFIXES rule 1 action 'permit'
set policy prefix-list RFC1918PREFIXES rule 1 le '24'
set policy prefix-list RFC1918PREFIXES rule 1 prefix '10.0.0.0/8'
set policy prefix-list RFC1918PREFIXES rule 2 action 'permit'
set policy prefix-list RFC1918PREFIXES rule 2 le '32'
set policy prefix-list RFC1918PREFIXES rule 2 prefix '172.16.0.0/12'
set policy prefix-list RFC1918PREFIXES rule 3 action 'permit'
set policy prefix-list RFC1918PREFIXES rule 3 le '32'
set policy prefix-list RFC1918PREFIXES rule 3 prefix '192.168.0.0/16'
set policy route-map ONLYRFC1918PREFIXES rule 10 action 'permit'
set policy route-map ONLYRFC1918PREFIXES rule 10 match ip address prefix-list 'RFC1918PREFIXES'
set policy route-map ONLYRFC1918PREFIXES rule 90 action 'deny'
set protocols bgp 64513 neighbor 10.199.0.2 password 'donglordsplus'
set protocols bgp 64513 neighbor 10.199.0.2 remote-as '64512'
set protocols bgp 64513 network '10.100.0.0/24'
set protocols bgp 64513 network '10.100.1.0/24'
set protocols static route 10.4.4.0/24 next-hop '10.100.1.160'
set service dhcp-server disabled 'false'
set service dhcp-server dynamic-dns-update enable 'true'
set service dhcp-server shared-network-name Prod authoritative 'enable'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 default-router '10.100.0.1'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 dns-server '8.8.8.8'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 lease '86400'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 start 10.100.0.10 stop '10.100.0.150'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping influx ip-address '10.100.0.117'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping influx mac-address '52:54:00:5a:c4:d8'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping netbox ip-address '10.100.0.129'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping netbox mac-address '52:54:00:32:92:b5'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping tor1 ip-address '10.100.0.125'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping tor1 mac-address '52:54:00:af:09:7b'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping www1 ip-address '10.100.0.130'
set service dhcp-server shared-network-name Prod subnet 10.100.0.0/24 static-mapping www1 mac-address '52:54:00:e2:e6:14'
set service dhcp-server shared-network-name QA authoritative 'enable'
set service dhcp-server shared-network-name QA subnet 10.100.1.0/24 default-router '10.100.1.1'
set service dhcp-server shared-network-name QA subnet 10.100.1.0/24 dns-server '8.8.8.8'
set service dhcp-server shared-network-name QA subnet 10.100.1.0/24 lease '3600'
set service dhcp-server shared-network-name QA subnet 10.100.1.0/24 start 10.100.1.10 stop '10.100.1.150'
set service dns forwarding cache-size '150'
set service dns forwarding listen-on '0.0.0.0'
set service dns forwarding listen-on 'vtun0'
set service dns forwarding listen-on 'eth1'
set service dns forwarding listen-on 'eth2'
set service dns forwarding listen-on 'vtun1'
set service dns forwarding 'system'
set service snmp community deathsfolly authorization 'ro'
set service ssh ciphers 'aes256-ctr,aes192-ctr,aes128-ctr'
set service ssh 'disable-password-authentication'
set service ssh listen-address '0.0.0.0'
set service ssh port '22'
set system config-management commit-revisions '20'
set system console device ttyS0 speed '9600'
set system domain-name 'deathsfolly.net'
set system gateway-address '216.194.170.1'
set system host-name 'router1'
set system login banner post-login ''
set system login banner pre-login ''
set system login user cross authentication encrypted-password '$6$jHuCQGQ3R5yg3he0$4ApucTCEEoEqC0.MPU.QtI9WxUhW6Ob3MwD03ShtkmCVZv05FfeFto0aLo95hL2Q7x00TeQdjkUZiojQ0wISD0'
set system login user cross authentication plaintext-password ''
set system login user cross authentication public-keys noxoid@deathsfolly.net key 'AAAAB3NzaC1yc2EAAAADAQABAAABAQChY5sXCyvtfDTxmUuv1VOfgEH7Kcsj7KS9OySiCY3opI+tvqtr+Yi8vgxxu5NXIixgizIemoAYmzM5RsB7i697GQHAvqPbRcZq4uxoD+tQ4olkknODPcUI4r0o1tIg70UzB7kdX1w9oFMW6j7pF9G7ZiDaVbzEw6kCXUCIh/epbXcDSDjM+6zNbj4DZEnCldNpiqd4QrkAYA2CSMfNWOCiFAEC3KzZ139FjtxX02NzvjK2bS/9Nqk2KVbWDa04TMTvBT3s9AwdJnlNdilT+7/wAmLjGXCbmj0fDURMoKjO0yCPpgkvzJipyHfiVnLbVcqkCM7yxZEhvzIj5H2vPIsP'
set system login user cross authentication public-keys noxoid@deathsfolly.net type 'ssh-rsa'
set system login user cross level 'admin'
set system name-server '8.8.8.8'
set system ntp server '0.pool.ntp.org'
set system ntp server '1.pool.ntp.org'
set system ntp server '2.pool.ntp.org'
set system package auto-sync '1'
set system package repository community components 'main'
set system package repository community distribution 'helium'
set system package repository community password ''
set system package repository community url 'http://packages.vyos.net/vyos'
set system package repository community username ''
set system syslog global facility all level 'notice'
set system syslog global facility protocols level 'debug'
set system time-zone 'America/New_York'
